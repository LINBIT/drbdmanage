drbdmanage installation HowTo
==============================================================================


INSTALLATION
------------------------------------------------------------------------------

Prerequisites:
    DRBD 9 installed
    LVM installed
    python-dbus, python-gobject installed

IMPORTANT NOTICE:
The node names you enter must match the output of the "uname -n" command.

Installation procedure (all nodes):
    *  Install the drbdmanage package:
    *  Create a VG named drbdpool

Cluster initialization (first drbdmanage cluster node only):
    *  On the first node, issue the following command to initialize a new
       drbdmanage cluster:
         drbdmanage init <ipaddress>
       ... where <ipaddress> is the IP address of the network interface that
           DRBD should use to communicate with other nodes in the cluster

Adding nodes to a drbdmanage cluster:
    *  On a node of the existing drbdmanage cluster, issue the following
       command to prepare the cluster for integrating a new node:
         drbdmanage new-node <nodename> <ipaddress>
       ... where <nodename> is the node name of the node, and <ipaddress>
           is the IP address of the node that will join the cluster
       This command will also try to connect to the new node via ssh and
		 automatically join the cluster.
	 * If automatically joining is not possible: On the new node (the one that
		should join the cluster), enter the join command that you have
		received from the drbdmanage new-node command in the previous step (e.g., copy
		& paste)


CONFIGURATION
------------------------------------------------------------------------------

If you want to customize the settings of your drbdmanage server, you can
change its configuration by using 'drbdmanage modify-config'. Please refere to
drbdmanage(8) for further details.


Starting the drbdmanage server (daemon)
------------------------------------------------------------------------------

The drbdmanage server should be started automatically by D-Bus when the
drbdmanage client connects to it for the first time.

The following command can be used to check whether the drbdmanage client can
connect to the drbdmanage server, and it implicitly starts the server as
described above:
  drbdmanage ping

If the server has been started successfully or had been running already,
the response of the "ping" command is simply "pong"; otherwise, an
error message is displayed.

The server can also be started manually by issuing the following command:
  dbus-drbdmanaged-service &


drbdmanage commands overview
------------------------------------------------------------------------------

See manual page drbdmanage(8) for information on drbdmanage commands.
