<?xml version="1.0"?>
<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<refentry>
  <refentryinfo>
    <date>22 January 2014</date>
    <productname>drbdmanage</productname>
    <productnumber>1.0</productnumber>
  </refentryinfo>
  <refmeta>
    <refentrytitle>drbdmanage</refentrytitle>
    <manvolnum>8</manvolnum>
    <refmiscinfo class="manual">System Administration</refmiscinfo>
  </refmeta>
  <refnamediv>
    <refname>drbdmanage</refname>
    <refpurpose>Distributed configuration management for DRBD<indexterm significance="normal">
      <primary>drbdmanage</primary>
    </indexterm>
    </refpurpose>
  </refnamediv>
  <refsynopsisdiv>
      
    <cmdsynopsis sepchar=" ">
      <command>drbdmanage</command>
      <arg choice="opt" rep="norepeat">
        --no-error-stop
      </arg>
      <arg choice="opt" rep="norepeat">
        --no-colors
      </arg>
      <arg choice="plain" rep="norepeat">
        command ...
      </arg>
    </cmdsynopsis>
    
    <cmdsynopsis sepchar=" ">
      <command>drbdmanage</command>
      <arg choice="opt" rep="norepeat">
        --no-error-stop
      </arg>
      <arg choice="opt" rep="norepeat">
        --no-colors
      </arg>
      <group choice="opt" rep="norepeat">
        <group choice="req" rep="norepeat">
          <arg choice="plain" rep="norepeat">-i</arg>
          <arg choice="plain" rep="norepeat">--interactive</arg>
        </group>
        <group choice="req" rep="norepeat">
          <arg choice="plain" rep="norepeat">-s</arg>
          <arg choice="plain" rep="norepeat">--stdin</arg>
        </group>
      </group>
      <arg choice="opt" rep="norepeat">
        command ...
      </arg>
    </cmdsynopsis>
    
    <cmdsynopsis sepchar=" ">
      <command moreinfo="none">drbdmanage</command>
      <group choice="req" rep="norepeat">
        
        <arg choice="plain" rep="norepeat">nodes
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-m</arg>
            <arg choice="plain" req="norepeat">--machine-readable</arg>
          </group>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">resources
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-m</arg>
            <arg choice="plain" req="norepeat">--machine-readable</arg>
          </group>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">volumes
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-m</arg>
            <arg choice="plain" req="norepeat">--machine-readable</arg>
          </group>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">assignments
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-m</arg>
            <arg choice="plain" req="norepeat">--machine-readable</arg>
          </group>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">new-node
	  <arg choice="opt" rep="norepeat">
            <group choice="req" rep="norepeat">
              <arg choice="plain" rep="norepeat">-a</arg>
              <arg choice="plain" req="norepeat">--address-family</arg>
            </group>
	    <group choice="req" rep="norepeat">
	      <arg choice="plain" rep="norepeat">ipv4</arg>
	      <arg choice="plain" rep="norepeat">ipv6</arg>
	    </group>
	  </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>ip</replaceable>
          </arg>
	</arg><sbr/>
        
        <arg choice="plain" rep="norepeat">new-resource
          <arg choice="opt" rep="norepeat">
            <group choice="req" rep="norepeat">
              <arg choice="plain" rep="norepeat">-p</arg>
              <arg choice="plain" req="norepeat">--port</arg>
            </group>
	    <replaceable>port-number</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
	</arg><sbr/>
        
	<arg choice="plain" rep="norepeat">new-volume
          <arg choice="opt" rep="norepeat">
            <group choice="req" rep="norepeat">
              <arg choice="plain" rep="norepeat">-u</arg>
              <arg choice="plain" req="norepeat">--unit</arg>
            </group>
            <arg choice="plain" req="norepeat">
              <replaceable>unit</replaceable>
            </arg>
          </arg>
          <arg choice="opt" rep="norepeat">
            <group choice="req" rep="norepeat">
              <arg choice="plain" rep="norepeat">-m</arg>
              <arg choice="plain" req="norepeat">--minor</arg>
            </group>
            <arg choice="plain" rep="norepeat">
                <replaceable>minornr</replaceable>
            </arg>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
          <arg choice="plain" rep="norepeat">
            <replaceable>size</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">remove-node
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-q</arg>
            <arg choice="plain" req="norepeat">--quiet</arg>
          </group>
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-f</arg>
            <arg choice="plain" req="norepeat">--force</arg>
          </group>
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">remove-resource
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-q</arg>
            <arg choice="plain" req="norepeat">--quiet</arg>
          </group>
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-f</arg>
            <arg choice="plain" req="norepeat">--force</arg>
          </group>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">remove-volume
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-q</arg>
            <arg choice="plain" req="norepeat">--quiet</arg>
          </group>
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-f</arg>
            <arg choice="plain" req="norepeat">--force</arg>
          </group>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
          <arg choice="plain" rep="norepeat">
            <replaceable>volid</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">deploy
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
          <arg choice="plain" rep="norepeat">
            <replaceable>n</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">extend
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
          <group choice="req" rep="norepeat">
            <arg choice="plain" rep="norepeat">
              <replaceable>n</replaceable>
            </arg>
            <arg choice="plain" rep="norepeat">
              <replaceable>+n</replaceable>
            </arg>
          </group>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">reduce
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
          <group choice="req" rep="norepeat">
            <arg choice="plain" rep="norepeat">
              <replaceable>n</replaceable>
            </arg>
            <arg choice="plain" rep="norepeat">
              <replaceable>-n</replaceable>
            </arg>
          </group>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">undeploy
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">assign
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-c</arg>
            <arg choice="plain" req="norepeat">--connect</arg>
          </group>
          <arg choice="opt" rep="norepeat">--client</arg>
          <arg choice="opt" rep="norepeat">--discard</arg>
          <arg choice="opt" rep="norepeat">--overwrite</arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">unassign
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-f</arg>
            <arg choice="plain" req="norepeat">--force</arg>
          </group>
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">connect
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">disconnect
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">reconnect
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">attach
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
          <arg choice="plain" rep="norepeat">
            <replaceable>volid</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">detach
	  <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
          <arg choice="plain" rep="norepeat">
            <replaceable>volid</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">flags
            <arg choice="opt" rep="norepeat">
              <arg choice="plain" rep="norepeat">--reconnect=
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">0</arg>
                 <arg choice="plain" rep="norepeat">1</arg>
                </group>
              </arg>
            </arg>
            <arg choice="opt" rep="norepeat">
              <arg choice="plain" rep="norepeat">--updcon=
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">0</arg>
                  <arg choice="plain" rep="norepeat">1</arg>
                </group>
              </arg>
            </arg>
            <arg choice="opt" rep="norepeat">
              <arg choice="plain" rep="norepeat">--overwrite=
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">0</arg>
                  <arg choice="plain" rep="norepeat">1</arg>
                </group>
              </arg>
            </arg>
            <arg choice="opt" rep="norepeat">
              <arg choice="plain" rep="norepeat">--discard=
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">0</arg>
                  <arg choice="plain" rep="norepeat">1</arg>
                </group>
              </arg>
            </arg>
          <arg choice="plain" rep="norepeat">
            <replaceable>nodename</replaceable>
          </arg>
	  <arg choice="plain" rep="norepeat">
            <replaceable>resname</replaceable>
          </arg>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">
          update-pool
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">
          reconfigure
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">
          save
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">
          load
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">
          export
          <group choice="req" rep="norepeat">
            <arg choice="plain" rep="norepeat">*</arg>
            <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
            </arg>
          </group>
        </arg><sbr/>
        
        <arg choice="plain" rep="norepeat">shutdown
          <group choice="opt" rep="norepeat">
            <arg choice="plain" rep="norepeat">-q</arg>
            <arg choice="plain" req="norepeat">--quiet</arg>
          </group>
        </arg><sbr/>
        
        <sbr/>
      </group>
      </cmdsynopsis>
  </refsynopsisdiv>
  
  
  
  <refsect1>
      <title>Commands</title>     
      
      <variablelist>
        <varlistentry>
          <term>
              <command moreinfo="none">drbdmanage</command>
              <arg choice="plain" rep="norepeat">nodes
                  <group choice="opt" rep="norepeat">
                    <arg choice="plain" rep="norepeat">-m</arg>
                    <arg choice="plain" req="norepeat">--machine-readable</arg>
                  </group>
              </arg>
          </term>
          <listitem>
            <para>
              Prints a list of all cluster nodes known to drbdmanage.
              By default, the list is printed as a human readable table.
              <sbr/>
              If the <option>-m</option> or <option>--machine-readble</option>
              option is present, the list is printed in a machine readable
              format, as a comma separated list of each node's properties,
              one node entry per line.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
              <command moreinfo="none">drbdmanage</command>
              <arg choice="plain" rep="norepeat">resources
                  <group choice="opt" rep="norepeat">
                    <arg choice="plain" rep="norepeat">-m</arg>
                    <arg choice="plain" req="norepeat">--machine-readable</arg>
                  </group>
              </arg>
          </term>
          <listitem>
            <para>
              Prints a list of all resource definitions known to drbdmanage.
              By default, the list is printed as a human readable table.
              <sbr/>
              If the <option>-m</option> or <option>--machine-readble</option>
              option is present, the list is printed in a machine readable
              format, as a comma separated list of each volume's properties,
              one volume entry per line.
              <sbr/>
              Currently, this command is merely an alias for the
              <option>volumes</option> command.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
              <command moreinfo="none">drbdmanage</command>
              <arg choice="plain" rep="norepeat">volumes
                  <group choice="opt" rep="norepeat">
                    <arg choice="plain" rep="norepeat">-m</arg>
                    <arg choice="plain" req="norepeat">--machine-readable</arg>
                  </group>
              </arg>
          </term>
          <listitem>
            <para>
              Prints a list of all volume definitions known to drbdmanage.
              By default, the list is printed as a human readable table.
              <sbr/>
              If the <option>-m</option> or <option>--machine-readble</option>
              option is present, the list is printed in a machine readable
              format, as a comma separated list of each volume's properties,
              one volume entry per line.
            </para>
          </listitem>
        </varlistentry>

        <varlistentry>
          <term>
              <command moreinfo="none">drbdmanage</command>
              <arg choice="plain" rep="norepeat">assignments
                  <group choice="opt" rep="norepeat">
                    <arg choice="plain" rep="norepeat">-m</arg>
                    <arg choice="plain" req="norepeat">--machine-readable</arg>
                  </group>
              </arg>
          </term>
          <listitem>
            <para>
              Prints a list of each node's assigned resources. Nodes that do
              not have any resources assigned do not appear in the list.
              By default, the list is printed as a human readable table.
              <sbr/>
              If the <option>-m</option> or <option>--machine-readble</option>
              option is present, the list is printed in a machine readable
              format, as a comma separated list of each assignment of a 
              volume to a node.
            </para>
          </listitem>
        </varlistentry>
      
          
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">new-node
              <arg choice="opt" rep="norepeat">
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">-a</arg>
                  <arg choice="plain" req="norepeat">--address-family</arg>
                </group>
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">ipv4</arg>
                  <arg choice="plain" rep="norepeat">ipv6</arg>
                </group>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>nodename</replaceable>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>address</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Creates a node entry for a node that participates in the
              drbdmanage cluster.
              <replaceable>nodename</replaceable> must match the name that
              is used as the node name of the drbdmanage server on the new
              participating node.
              Commonly, <replaceable>nodename</replaceable> is set to
              match the output of the <command moreinfo="none">uname -n</command>
              command on the new participating node.
              Unless specified otherwise, <replaceable>address</replaceable>
              is expected to be an IPv4 ip address, and the address family
              field of the node entry is implicitly set to
              <option>ipv4</option>.
            </para>
          </listitem>
        </varlistentry>
      
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">new-resource
              <arg choice="opt" rep="norepeat">
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">-p</arg>
                  <arg choice="plain" req="norepeat">--port</arg>
                </group>
                <replaceable>port-number</replaceable>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Defines a DRBD resource for use with drbdmanage.
              Unless a specific IP <replaceable>port-number</replaceable> is
              supplied, the port-number is automatically selected by the
              drbdmanage server on the current node.<sbr/>
              Note that the new resource entry does not contain any volumes.
              Use the <option>new-volume</option> command to define volumes
              for the newly created DRBD resource.
            </para>
          </listitem>
        </varlistentry>
      
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">new-volume
              <arg choice="opt" rep="norepeat">
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">-u</arg>
                  <arg choice="plain" req="norepeat">--unit</arg>
                </group>
                <arg choice="plain" req="norepeat">
                  <replaceable>unit</replaceable>
                </arg>
              </arg>
              <arg choice="opt" rep="norepeat">
                <group choice="req" rep="norepeat">
                  <arg choice="plain" rep="norepeat">-m</arg>
                  <arg choice="plain" req="norepeat">--minor</arg>
                </group>
                <arg choice="plain" rep="norepeat">
                    <replaceable>minornr</replaceable>
                </arg>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>size</replaceable>
              </arg>
            </arg><sbr/>
          </term>
          <listitem>
            <para>
              Defines a volume with a capacity of <replaceable>size</replaceable>
              for use with drbdmanage.
              If the resource <replaceable>resname</replaceable> exists
              already, a new volume is added to that resource, otherwise
              the resource is created automatically with default settings.
              Unless <replaceable>minornr</replaceable> is specified, a minor
              number for the volume's DRBD block device is assigned
              automatically by the drbdmanage server.<sbr/>
              The default unit for <replaceable>size</replaceable> is GiB
              (size * (2 ^ 30) bytes). Another unit can be specified by using
              the <option>-u</option> or <option>--unit</option> option.
              Valid values for <replaceable>unit</replaceable> are:
              <variablelist>
                  <varlistentry>
                    <para>
                      <option>MB</option> - Megabyte (10 ^ 6 bytes)
                    </para>
                  </varlistentry>
                  <varlistentry>
                    <para>
                      <option>GB</option> - Gigabyte (10 ^ 9 bytes)
                    </para>
                  </varlistentry>
                  <varlistentry>
                    <para>
                      <option>TB</option> - Terrayte (10 ^ 12 bytes)
                    </para>
                  </varlistentry>
                  <varlistentry>
                    <para>
                      <option>PB</option> - Petabyte (10 ^ 15 bytes)
                    </para>
                  </varlistentry>
                  <varlistentry>
                    <para>
                      <option>MiB</option> - Mebibyte (2 ^ 20 bytes)
                    </para>
                  </varlistentry>
                  <varlistentry>
                    <para>
                      <option>GiB</option> - Gibibyte (2 ^ 30 bytes)
                    </para>
                  </varlistentry>
                  <varlistentry>
                    <para>
                      <option>TiB</option> - Tebibyte (2 ^ 40 bytes)
                    </para>
                  </varlistentry>
                  <varlistentry>
                    <para>
                      <option>PiB</option> - Pebibyte (2 ^ 50 bytes)
                    </para>
                  </varlistentry>
              </variablelist>
              drbdmanage's internal granularity for the capacity of volumes
              is one Mebibyte (2 ^ 20 bytes). All other unit specifications
              are implicitly converted to Mebibyte, so that the actual size
              value used by drbdmanage is the smallest natural number of
              Mebibytes that is large enough to accomodate a volume of the
              requested size in the specified size unit.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">remove-node
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-q</arg>
                <arg choice="plain" req="norepeat">--quiet</arg>
              </group>
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-f</arg>
                <arg choice="plain" req="norepeat">--force</arg>
              </group>
              <arg choice="plain" rep="norepeat">
                <replaceable>nodename</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Removes a node from the drbdmanage cluster. All drbdmanage
              resources that are still deployed on the specified node are
              marked for undeployment, and the node entry is marked for
              removal from drbdmanage's data tables.
              The specified node is expected to undeploy all resources. As soon
              as all resources have been undeployed from the node, the node
              entry is removed from drbdmanage's data tables.
              <sbr/>
              If the <option>-f</option> or <option>--force</option> option
              is present, then the node entry and all associated assignment
              entries are removed from drbdmanage's data tables immediately,
              without taking any action on the cluster node that the node entry
              refers to.<sbr/>
              Unless suppressed by using the <option>-q</option> or
              <option>--quiet</option> option, drbdmanage will issue a
              safety question that must be answered with <option>yes</option>,
              otherwise the operation is canceled.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">remove-resource
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-q</arg>
                <arg choice="plain" req="norepeat">--quiet</arg>
              </group>
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-f</arg>
                <arg choice="plain" req="norepeat">--force</arg>
              </group>
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Removes a resource and its associated resource definition from
              the drbdmanage cluster. The resource is undeployed from all
              nodes and the resource entry is marked for removal from
              drbdmanage's data tables.
              After all nodes have undeployed the resource, the resource
              entry is removed from drbdmanage's data tables.
              <sbr/>
              If the <option>-f</option> or <option>--force</option> option
              is present, then the resource entry and all associated assignment
              entries are removed from drbdmanage's data tables immediately,
              without taking any action on the cluster nodes that have the
              resource deployed.<sbr/>
              Unless suppressed by using the <option>-q</option> or
              <option>--quiet</option> option, drbdmanage will issue a
              safety question that must be answered with <option>yes</option>,
              otherwise the operation is canceled.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">remove-volume
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-q</arg>
                <arg choice="plain" req="norepeat">--quiet</arg>
              </group>
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-f</arg>
                <arg choice="plain" req="norepeat">--force</arg>
              </group>
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>volid</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Removes a volume from the drbdmanage cluster, and removes the
              volume definition from the resource definition. The volume is
              undeployed from all nodes and the volume entry is marked for
              removal from the resource definition in drbdmanage's data tables.
              After all nodes have undeployed the volume, the volume entry is
              removed from the resource definition.
              <sbr/>
              If the <option>-f</option> or <option>--force</option> option
              is present, then the volume entry is removed from the resource
              definition immediately, without taking any action on the cluster
              nodes that have the volume deployed.<sbr/>
              Unless suppressed by using the <option>-q</option> or
              <option>--quiet</option> option, drbdmanage will issue a
              safety question that must be answered with <option>yes</option>,
              otherwise the operation is canceled.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">deploy
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>n</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Deploys the resource <replaceable>resname</replaceable> on
              <replaceable>n</replaceable> automatically selected nodes of
              the drbdmanage cluster.<sbr/>
              Using the information in drbdmanage's data tables, the drbdmanage
              server tries to find <replaceable>n</replaceable> nodes that have
              enough free storage capacity to deploy the resource
              <replaceable>resname</replaceable>.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">extend
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
              <group choice="req" rep="norepeat">
                <arg choice="plain" rep="norepeat">
                  <replaceable>n</replaceable>
                </arg>
                <arg choice="plain" rep="norepeat">
                  <replaceable>+n</replaceable>
                </arg>
              </group>
            </arg>
          </term>
          <listitem>
            <para>
              Extends the deployment of the resoure <replaceable>resname</replaceable>
              to <replaceable>n</replaceable> nodes, or if a plus sign (+) is
              prepended to <replaceable>n</replaceable>, extends the deployment
              by <replaceable>n</replaceable> nodes.<sbr/>
              Nodes are automatically selected for deploying the volume in the
              same way as stated in the description of the <option>deploy</option>
              command.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">reduce
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
              <group choice="req" rep="norepeat">
                <arg choice="plain" rep="norepeat">
                  <replaceable>n</replaceable>
                </arg>
                <arg choice="plain" rep="norepeat">
                  <replaceable>-n</replaceable>
                </arg>
              </group>
            </arg>
          </term>
          <listitem>
            <para>
              Reduces the deployment of the resoure <replaceable>resname</replaceable>
              to <replaceable>n</replaceable> nodes, or if a minus sign (-) is
              prepended to <replaceable>n</replaceable>, reduces the deployment
              by <replaceable>n</replaceable> nodes.<sbr/>
              The nodes, where the resource will be undeployed, are automatically
              selected in a way that is consistent with the deployment policy
              as stated in the description of the <option>deploy</option> command.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">undeploy
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Undeploys a resource from all nodes. The resource definition
              is still kept in drbdmanage's data tables.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">assign
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-c</arg>
                <arg choice="plain" req="norepeat">--connect</arg>
              </group>
              <arg choice="opt" rep="norepeat">--client</arg>
              <arg choice="opt" rep="norepeat">--discard</arg>
              <arg choice="opt" rep="norepeat">--overwrite</arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>nodename</replaceable>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Creates an assignment for the deployment of the resource
              <replaceable>resname</replaceable> on the node
              <replaceable>nodename</replaceable>.<sbr/>
              If the <option>--discard</option> option is specified, drbdmanage
              will issue a <command moreinfo="none">drbdadm -- --discard-my-data connect</command>
              after the resource has been started.
              If the <option>--overwrite</option> is specified, drbdmanage
              will issue a <command moreinfo="none">drbdmadm -- --force primary</command>
              after the resource has been started.<sbr/>
              The following options are mutually exclusive:
              <variablelist>
                <varlistentry>
                  <para>
                    <option>--overwrite</option> and <option>--client</option>
                  </para>
                </varlistentry>
                <varlistentry>
                  <para>
                    <option>--overwrite</option> and <option>--discard</option>
                  </para>
                </varlistentry>
              </variablelist>
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">unassign
              <group choice="opt" rep="norepeat">
                <arg choice="plain" rep="norepeat">-f</arg>
                <arg choice="plain" req="norepeat">--force</arg>
              </group>
              <arg choice="plain" rep="norepeat">
                <replaceable>nodename</replaceable>
              </arg>
              <arg choice="plain" rep="norepeat">
                <replaceable>resname</replaceable>
              </arg>
            </arg>
          </term>
          <listitem>
            <para>
              Undeploys the resource <replaceable>resname</replaceable> from the
              node <replaceable>nodename</replaceable> and removes the assignment
              entry from drbdmanage's data tables after the node has finished
              undeploying the resource.
              If the resource had been assigned to a node, but that node has not
              deployed the resource yet, the assignment is canceled.<sbr/>
              If the <option>-f</option> or <option>--force</option> option is
              present, the assignment entry will be removed from drbdmanage's
              data tables immediately, without taking any action on the node
              where the resource is been deployed.
            </para>
          </listitem>
        </varlistentry>
        
        <!--     
        <varlistentry>
          <term>
            <command moreinfo="none">drbdmanage</command>
            <arg choice="plain" rep="norepeat">template</arg>
          </term>
          <listitem>
            <para>
              Template
            </para>
          </listitem>
        </varlistentry>
        -->
        
      </variablelist>
  </refsect1>

  <refsect1>
    <title>Description</title>
    <para>The <option>drbdmanage</option> utility is ... cool! :)<sbr/>
    But we still need to write some man page info for it!
    TODO...
    </para>
  </refsect1>

  <refsect1>
    <title>See Also</title>

    <para><citerefentry>
        <refentrytitle>drbd.conf</refentrytitle>
        <manvolnum>5</manvolnum></citerefentry>,

	<citerefentry>
        <refentrytitle>drbd</refentrytitle>
        <manvolnum>8</manvolnum></citerefentry>,

	<citerefentry>
        <refentrytitle>drbdadm</refentrytitle>
        <manvolnum>8</manvolnum></citerefentry>
    </para>
  </refsect1>
</refentry>
